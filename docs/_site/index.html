<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8'>
    <title>RML-LDES Test Cases</title>
    <script
            src='https://www.w3.org/Tools/respec/respec-w3c-common'
            class='remove'></script>
    <script class='remove'>
      var respecConfig = {
        specStatus: "unofficial",
        editors: [{
          name: "Dylan Van Assche",
          company: "Ghent University - IDLab, imec",
          mailto: "dylan.vanassche@ugent.be"
        }, {
          name: "Gerald Haesendonck",
          company: "Ghent University - IDLab, imec",
          mailto: "gerald.haesendonck@ugent.be"
        }, {
          name: "Ben De Meester",
          company: "Ghent University - IDLab, imec",
          mailto: "ben.demeester@ugent.be"
        }, {
          name: "Pieter Colpaert",
          company: "Ghent University - IDLab, imec",
          mailto: "pieter.colpaert@ugent.be"
        }],
        github: "https://github.com/RMLio/rml-ldes-test-cases/",
        shortName: "rml-ldes-test-cases"
      };
    </script>

    <link href="./css/style.css" rel="stylesheet" />
</head>
<body>
<section id='abstract'>
    <p>
        This document defines the RML-LDES test cases to the determine the RML-LDES specification conformance of tools.
    </p>
</section>
<section id='sotd'>
    <!--<p>-->
        <!--This is required.-->
    <!--</p>-->
</section>

<section id="intro">
    <h2>Introduction</h2>

    <p>
        This document defines the RML-LDES test cases, consisting of a collection of test case documents (input and expected output).
        The purpose of the test cases is to determine the conformance of tools that execute RML rules to the RML-LDES specification.
    </p>
</section>


<section id="datamodel">
    <h2>Data model</h2>

    <p>
        We describe the test cases semantically
        to increase their reusability and sharability.
        To this end, we created a semantic data model,
        with as main entity the test case (see figure below).
        For each test case, the following details are described:
        unique identifier,
        title,
        description,
        relevant aspect of the RML-LDES specification,
        data sources (optional),
        expected knowledge graph or error, and
        RML-LDES rules.
    </p>

    <p>
        To provide the corresponding semantic descriptions,
        the model uses mostly
        the <a href="https://www.w3.org/TR/EARL10/">Evaluation and Report Language (EARL) 1.0 Schema</a>,
        the <a href="http://www.w3.org/2001/sw/DataAccess/tests/test-manifest#">Test case manifest vocabulary</a>,
        the <a href="https://www.w3.org/2006/03/test-description#">Test Metadata vocabulary</a>, and
        the <a href="https://www.w3.org/TR/vocab-dcat/">Data Catalog Vocabulary</a>.
        A test case is annotated with the classes <code>earl:TestCase</code>, <code>test:TestCase</code>, and <code>mf:ManifestEntry</code>.
        The identifier, title, description, and
        the specific aspect of the RML-LDES specification that is being tested
        are added as datatype properties.
        The files that are provided as input to the tools are linked to the test cases via <code>test:informationResourceInput</code> and <code>dcterms:hasPart</code>.
        The file with the RML-LDES rules is also linked via <code>rml-tc:rules</code>.
        The objects of these properties are of the class <code>dcat:Dataset</code>,
        which in turn link to a <code>dcat:Distribution</code> that includes a link to a file.
        The expected output, whether that is a knowledge graph or an error, is linked via <code>test:expectedResults</code>, <code>mf:result</code>, and <code>dcterms:hasPart</code>.
        In the case of a knowledge graph, the object of these properties is a <code>dcat:Dataset</code>, linked to a <code>dcat:Distribution</code>, to describe the file containing the graph.
        In the case of an error, we link to the expected error.
    </p>

    <img src="img/data_model.png" />
</section>

<section id="test-cases">
    <h2>Test cases</h2>

    This section describes the RML-LDES test cases.
    These descriptions are also <a href="https://raw.githubusercontent.com/RMLio/rml-ldes-test-cases/master/metadata.nq">available as RDF</a>.
    The files are available on <a href="https://github.com/RMLio/rml-ldes-test-cases">Github</a> in the folder <code>test-cases</code>.
    Each test case is contained in a single folder, containing three types of files:

    <ul>
        <li>A base and change RML-LDES mapping file written in Turtle: <code>base.rml.ttl</code> and <code>change.rml.ttl</code></li>
        <li>A base and change input file in JSON: <code>base.json</code> and <code>change.json</code></li>
        <li>A base and change output file in N-Quads: <code>output-base.nq</code> and <code>output-change.nq</code></li>
    </ul>

    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0001a">RMLLDES0001a</h3>

        <p><b>Title:</b> Latest State Explicit No Change</p>
        <p><b>Description:</b> Test if no output is produced when the data remains unchanged
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001a/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001a
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001a/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001a
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0001b">RMLLDES0001b</h3>

        <p><b>Title:</b> Latest State Explicit Addition</p>
        <p><b>Description:</b> Test if an addition to the data produces an added entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001b/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001b
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001b/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001b
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/pressure&gt; "1012" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/temperature&gt; "27" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/4/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0001c">RMLLDES0001c</h3>

        <p><b>Title:</b> Latest State Explicit Modification</p>
        <p><b>Description:</b> Test if a modification to the data produces a modified entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001c/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001c
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001c/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001c
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1027" &lt;http://example.com/event/update&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "19" &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0001d">RMLLDES0001d</h3>

        <p><b>Title:</b> Latest State Explicit Deletion</p>
        <p><b>Description:</b> Test if a deletion in the data produces a deleted entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001d/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001d
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001d/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001d
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; &lt;http://example.com/event/delete&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0001e">RMLLDES0001e</h3>

        <p><b>Title:</b> Latest State Implicit No Change</p>
        <p><b>Description:</b> Test if no output is produced when the data remains unchanged
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001e/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001e
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001e/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001e
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0001f">RMLLDES0001f</h3>

        <p><b>Title:</b> Latest State Implicit Addition</p>
        <p><b>Description:</b> Test if an addition to the data produces an added entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001f/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001f
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001f/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001f
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/pressure&gt; "1027" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/temperature&gt; "27" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/4/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0001g">RMLLDES0001g</h3>

        <p><b>Title:</b> Latest State Implicit Modification</p>
        <p><b>Description:</b> Test if a modification to the data produces a modified entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001g/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001g
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001g/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001g
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1020" &lt;http://example.com/event/update&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "19" &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0001h">RMLLDES0001h</h3>

        <p><b>Title:</b> Latest State Implicit Deletion</p>
        <p><b>Description:</b> Test if a deletion in the data produces a deleted entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001h/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001h
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class ex:Sensor;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class ex:Sensor;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class ex:Sensor;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://example.com/Sensor&gt; &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://example.com/Sensor&gt; &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;http://example.com/Sensor&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0001h/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0001h
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; &lt;http://example.com/event/delete&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0002a">RMLLDES0002a</h3>

        <p><b>Title:</b> Latest Changes Explicit No Change</p>
        <p><b>Description:</b> Test if no output is produced when the data remains unchanged
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002a/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002a
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002a/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002a
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0002b">RMLLDES0002b</h3>

        <p><b>Title:</b> Latest Changes Explicit Addition</p>
        <p><b>Description:</b> Test if an addition to the data produces an added entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002b/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002b
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002b/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002b
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/4/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0002c">RMLLDES0002c</h3>

        <p><b>Title:</b> Latest Changes Explicit Modification</p>
        <p><b>Description:</b> Test if a modification to the data produces a modified entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002c/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002c
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002c/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002c
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/update&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0002d">RMLLDES0002d</h3>

        <p><b>Title:</b> Latest Changes Explicit Deletion</p>
        <p><b>Description:</b> Test if a deletion in the data produces a deleted entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002d/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002d
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002d/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002d
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; &lt;http://example.com/event/delete&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0002e">RMLLDES0002e</h3>

        <p><b>Title:</b> Latest Changes Implicit No Change</p>
        <p><b>Description:</b> Test if no output is produced when the data remains unchanged
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002e/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002e
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002e/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002e
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0002f">RMLLDES0002f</h3>

        <p><b>Title:</b> Latest Changes Implicit Addition</p>
        <p><b>Description:</b> Test if an addition to the data produces an added entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002f/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002f
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002f/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002f
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/pressure&gt; "1015" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/temperature&gt; "23" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/4/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0002g">RMLLDES0002g</h3>

        <p><b>Title:</b> Latest Changes Implicit Modification</p>
        <p><b>Description:</b> Test if a modification to the data produces a modified entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002g/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002g
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0002g/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0002g
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "999" &lt;http://example.com/event/update&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "18" &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0003a">RMLLDES0003a</h3>

        <p><b>Title:</b> Full History Explicit No Change</p>
        <p><b>Description:</b> Test if no output is produced when the data remains unchanged
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003a/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003a
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003a/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003a
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0003b">RMLLDES0003b</h3>

        <p><b>Title:</b> Full History Explicit Addition</p>
        <p><b>Description:</b> Test if an addition to the data produces an added entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003b/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003b
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003b/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003b
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/pressure&gt; "1020" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/temperature&gt; "21" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/4/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0003c">RMLLDES0003c</h3>

        <p><b>Title:</b> Full History Explicit Modification</p>
        <p><b>Description:</b> Test if a modification to the data produces a modified entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003c/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003c
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003c/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003c
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1020" &lt;http://example.com/event/update&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "21" &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0003d">RMLLDES0003d</h3>

        <p><b>Title:</b> Full History Explicit Deletion</p>
        <p><b>Description:</b> Test if a deletion in the data produces a deleted entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003d/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003d
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "base.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003d/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003d
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Delete
&lt;#TriplesMapASDelete&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/delete";
    rr:termType rr:IRI;
    rr:class as:Delete;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

################################################################################

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.addition[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.modification[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectDelete&gt; a rr:TriplesMap;
  rml:logicalSource [
    rml:source "change.json";
    rml:referenceFormulation ql:JSONPath;
    rml:iterator "$.deletion[*]";
  ];

  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:explicitDelete ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/delete_state"; rr:dataType xsd:string; ]
        ];
    ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:class as:Delete;
    rr:graph &lt;http://example.com/event/delete&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/delete&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; .
&lt;http://example.com/event/delete&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Delete&gt; &lt;http://example.com/event/delete&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/delete&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0003e">RMLLDES0003e</h3>

        <p><b>Title:</b> Full History Implicit No Change</p>
        <p><b>Description:</b> Test if no output is produced when the data remains unchanged
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003e/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003e
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003e/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003e
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0003f">RMLLDES0003f</h3>

        <p><b>Title:</b> Full History Implicit Addition</p>
        <p><b>Description:</b> Test if an addition to the data produces an added entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003f/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003f
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003f/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003f
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/4/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/4/&gt; .
</pre>
            
        </p>
    </section>
    
    <section>
        <h3 about="http://rml.io/test-case/RMLLDES0003g">RMLLDES0003g</h3>

        <p><b>Title:</b> Full History Implicit Modification</p>
        <p><b>Description:</b> Test if a modification to the data produces a modified entity
            
            (<a target="_blank" href="https://w3id.org/rml/ldes/">specification reference</a>)
            
        </p>
        <!--<p><b>Data format:</b> </p>-->

        <p>
            <b>RML base rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003g/base.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003g
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-base.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "base.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected base knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/pressure&gt; "1013" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/1/&gt; &lt;http://example.com/temperature&gt; "20" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/pressure&gt; "1005" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/2/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1026" &lt;http://example.com/event/create&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "25" &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/1/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/2/&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>

        <p>
            <b>RML change rules</b> (<a target="_blank" href="../test-cases/RMLLDES0003g/change.rml.ttl">download</a>):
        <pre class="rules"># 
# RML-LDES test case RMLLDES0003g
# (c) Dylan Van Assche (2023)
# IDLab - Ghent University - imec
#
@prefix rr: &lt;http://www.w3.org/ns/r2rml#&gt; .
@prefix ex: &lt;http://example.com/&gt; .
@prefix rdfs: &lt;https://www.w3.org/2000/01/rdf-schema#&gt; .
@prefix xsd: &lt;http://www.w3.org/2001/XMLSchema#&gt; .
@prefix rml: &lt;http://semweb.mmlab.be/ns/rml#&gt; .
@prefix rmlt: &lt;http://semweb.mmlab.be/ns/rml-target#&gt; .
@prefix comp: &lt;http://semweb.mmlab.be/ns/rml-compression#&gt; .
@prefix formats: &lt;http://www.w3.org/ns/formats/&gt; .
@prefix ql: &lt;http://semweb.mmlab.be/ns/ql#&gt; .
@prefix rdf: &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#&gt; .
@prefix geo: &lt;http://www.w3.org/2003/01/geo/wgs84_pos#&gt; .
@prefix fnml: &lt;http://semweb.mmlab.be/ns/fnml#&gt; .
@prefix fno: &lt;https://w3id.org/function/ontology#&gt; .
@prefix idlab-fn: &lt;http://example.com/idlab/function/&gt; .
@prefix grel: &lt;http://users.ugent.be/~bjdmeest/function/grel.ttl#&gt; .
@prefix dct: &lt;http://purl.org/dc/terms/&gt; .
@prefix tree: &lt;https://w3id.org/tree#&gt; .
@prefix ldes: &lt;https://w3id.org/ldes#&gt; .
@prefix purl: &lt;http://purl.org/dc/terms/&gt; .
@prefix as: &lt;https://www.w3.org/ns/activitystreams#&gt; .
@prefix td: &lt;https://www.w3.org/2019/wot/td#&gt; .
@prefix htv: &lt;http://www.w3.org/2011/http#&gt; .
@prefix hctl: &lt;https://www.w3.org/2019/wot/hypermedia#&gt; .
@prefix gbfs: &lt;https://w3id.org/gbfs#&gt; .
@prefix void: &lt;http://rdfs.org/ns/void#&gt; .
@prefix schema: &lt;http://schema.org/&gt; .
@prefix mobivoc: &lt;http://schema.mobivoc.org/#&gt; .
@base &lt;http://example.com/rules/&gt; .

# LDES output
&lt;#LDESLogicalTarget&gt; a rmlt:EventStreamTarget;
    rmlt:target [ a void:Dataset;
        void:dataDump &lt;file://./output-change.nq&gt;;
    ];
    rmlt:serialization formats:N-Quads;
    rmlt:ldes [ a ldes:EvenStream;
      ldes:timestampPath dct:created;
      ldes:versionOfPath dct:isVersionOf;
    ];
    rmlt:ldesBaseIRI &lt;https://example.com/ldes&gt;;
    rmlt:ldesGenerateImmutableIRI "false"^^xsd:boolean;
.

# ActivityStreams as:actor object is always the same
&lt;#PredicateObjectMapASActor&gt; a rr:PredicateObjectMap;
  rr:predicate as:actor;
  rr:object &lt;https://example.com/dataset&gt;;
.

&lt;#PropertyPressure&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:pressure ];
  rr:objectMap [ rml:reference "pressure" ];
.

&lt;#PropertyTemperature&gt; a rr:PredicateObjectMap;
  rr:predicateMap [ rr:constant ex:temperature ];
  rr:objectMap [ rml:reference "temperature" ];
.

################################################################################
# Event log
################################################################################

&lt;#ASDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$";
.

# ActivityStreams as:Create
&lt;#TriplesMapASCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/create";
    rr:termType rr:IRI;
    rr:class as:Create;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# ActivityStreams as:Update
&lt;#TriplesMapASUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#ASDataSource&gt;;

  rr:subjectMap [
    rr:constant "http://example.com/event/update";
    rr:termType rr:IRI;
    rr:class as:Update;
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
  ];

  rr:predicateObjectMap &lt;#PredicateObjectMapASActor&gt;;
.

# Deletes are impossible to identify when the changes are implicitely advertised
# because you cannot determine if a member is removed or just not updated in 
# the latest changes, unless explicitely advertised.

################################################################################
# Sensors
################################################################################

&lt;#SensorsDataSource&gt; a rml:LogicalSource;
  rml:source "change.json";
  rml:referenceFormulation ql:JSONPath;
  rml:iterator "$.sensors[*]";
.

&lt;#TriplesMapObjectCreate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitCreate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/create_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/create&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.

&lt;#TriplesMapObjectUpdate&gt; a rr:TriplesMap;
  rml:logicalSource &lt;#SensorsDataSource&gt;;
  rr:subjectMap [
    fnml:functionValue [
      rr:predicateObjectMap [
        rr:predicate fno:executes ;
        rr:objectMap [ rr:constant idlab-fn:implicitUpdate ] ] ;
        # IRI template
        rr:predicateObjectMap [
          rr:predicate idlab-fn:iri ;
          rr:objectMap [ rr:template "http://example.com/sensor/{sensor}/" ]
        ];
        # Properties to watch, can be one or multiple
        # Note that the template does not need to match with these properties!
        rr:predicateObjectMap [
          rr:predicate idlab-fn:watchedProperty ;
          rr:objectMap [ rml:reference "temperature" ]
        ];
        # Directory path where the state for this function is/will be stored
        rr:predicateObjectMap [
          rr:predicate idlab-fn:state ;
          rr:objectMap [ rr:constant "/tmp/update_state"; rr:dataType xsd:string; ]
        ];
     ];
    rml:logicalTarget &lt;#LDESLogicalTarget&gt;;
    rr:graph &lt;http://example.com/event/update&gt;;
  ];

  rr:predicateObjectMap &lt;#PropertyPressure&gt;;
  rr:predicateObjectMap &lt;#PropertyTemperature&gt;;
.
</pre>
        </p>
        <p><b>Error expected:</b>
            
                No
            </p>
        <p><b>Expected change knowledge graph:
            

        </b>
            
                <pre class="output">&lt;http://example.com/event/create&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Create&gt; .
&lt;http://example.com/event/create&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/event/update&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://www.w3.org/ns/activitystreams#Update&gt; .
&lt;http://example.com/event/update&gt; &lt;https://www.w3.org/ns/activitystreams#actor&gt; &lt;https://example.com/dataset&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/pressure&gt; "1024" &lt;http://example.com/event/update&gt; .
&lt;http://example.com/sensor/3/&gt; &lt;http://example.com/temperature&gt; "22" &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;http://www.w3.org/1999/02/22-rdf-syntax-ns#type&gt; &lt;https://w3id.org/ldes#EventStream&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#timestampPath&gt; &lt;http://purl.org/dc/terms/created&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/ldes#versionOfPath&gt; &lt;http://purl.org/dc/terms/isVersionOf&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/create&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/event/update&gt; .
&lt;https://example.com/ldes&gt; &lt;https://w3id.org/tree#member&gt; &lt;http://example.com/sensor/3/&gt; .
</pre>
            
        </p>
    </section>
    
</section>
</body>
</html>
